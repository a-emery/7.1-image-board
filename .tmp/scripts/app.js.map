{"version":3,"sources":["main.js","models/Post.js","models/PostsCollection.js","views/createPost.js","views/imageList.js","views/imageListItem.js"],"names":["_interopRequireDefault","obj","__esModule","_viewsCreatePost","require","_viewsCreatePost2","_modelsPostsCollection","_modelsPostsCollection2","_viewsImageList","_viewsImageList2","$","document","ready","append","JST","application","postsCollection","fetch","comparator","createPostView","collection","render","el","imageList","Object","defineProperty","exports","value","Backbone","Model","extend","idAttribute","defaults","url","caption","createdAt","Date","now","isEditing","module","_modelsPost","_modelsPost2","Collection","model","View","tagName","className","events","template","create","createPost","e","preventDefault","console","log","serializeForm","val","toggleClass","result","inputs","$el","serializeArray","forEach","input","name","html","toggleCreate","_viewsImageListItem","_viewsImageListItem2","initialize","listenTo","renderChildren","self","each","post","imageListItem","prepend","set","toJSON","deletePost","destroy","editPost","updatePost","save","cancelUpdate"],"mappings":"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","file":"app.js","sourcesContent":["import CreatePostView from 'views/createPost';\nimport PostsCollection from 'models/PostsCollection';\nimport ImageList from 'views/imageList';\n\n$(document).ready(function(){\n  $('#container').append(JST.application());\n\n  var postsCollection = new PostsCollection();\n  postsCollection.fetch();\n\n  postsCollection.comparator = 'createdAt';\n\n  var createPostView = new CreatePostView({collection: postsCollection});\n  $('body').append(createPostView.render().el);\n\n  var imageList = new ImageList({collection: postsCollection});\n  $('.images').append(imageList.render().el);\n});\n","export default Backbone.Model.extend({\n  idAttribute: \"_id\",\n  defaults: function(){\n    return  {\n      url: \"[no URL]\",\n      caption: \"[no description]\",\n      createdAt: Date.now(),\n      isEditing: false\n    };\n  }\n\n});\n","import Post from 'models/Post';\n\nexport default Backbone.Collection.extend({\n  model: Post,\n  url: 'http://tiny-lasagna-server.herokuapp.com/collections/aaronimages'\n});\n","export default Backbone.View.extend({\n\n  tagName: 'form',\n\n  className: 'createPost',\n\n  events: {\n    'click .submitButton': 'createPost',\n    'click .header-plus': 'toggleCreate',\n    'click .cancelButton': 'toggleCreate'\n  },\n\n  template: JST.create,\n\n  createPost: function(e){\n    e.preventDefault();\n    console.log(this.serializeForm());\n    this.collection.create(this.serializeForm());\n    this.$('input[type=text]').val('');\n    this.$('textarea').val('');\n    $('.createPostContainer').toggleClass('hidden');\n  },\n\n  serializeForm: function(){\n    var result = {};\n    var inputs = this.$el.serializeArray();\n    inputs.forEach(function(input) {\n      result[input.name] = input.value;\n    });\n    return result;\n  },\n\n  render: function(){\n    this.$el.html(this.template());\n    return this;\n  },\n\n  toggleCreate: function(e) {\n    e.preventDefault();\n    console.log('something');\n    $('.createPostContainer').toggleClass('hidden');\n  }\n\n});\n","import ImageListItem from 'views/imageListItem';\n\nexport default Backbone.View.extend({\n\n  tagName: 'ul',\n\n  className: 'imageList',\n\n  template: JST.imageList,\n\n  initialize: function() {\n    this.listenTo(this.collection, 'add remove', this.render);\n  },\n\n  render: function(){\n    this.renderChildren();\n    return this;\n  },\n\n  renderChildren: function(){\n    var self = this;\n    this.$el.html('');\n    this.collection.each(function(post){\n      var imageListItem = new ImageListItem({model: post});\n      self.$el.prepend(imageListItem.render().el);\n    });\n  }\n\n});\n","export default Backbone.View.extend({\n\n  tagName: 'li',\n\n  className: 'postListItem',\n\n  events: {\n    'click .js-delete': 'deletePost',\n    'click .js-edit': 'editPost',\n    'click .js-editSubmit': 'updatePost',\n    'click .js-editCancel': 'cancelUpdate'\n  },\n\n  initialize: function(){\n    this.model.set('isEditing', false);\n  },\n\n  template: JST.imageListItem,\n\n  render: function(){\n    this.$el.html(this.template({\n      model: this.model.toJSON()\n      }));\n    return this;\n  },\n\n  deletePost: function(){\n    console.log('destroy');\n    this.model.destroy();\n  },\n\n  editPost: function(){\n    this.model.set('isEditing', true);\n    this.render();\n  },\n\n  updatePost: function(e){\n    e.preventDefault();\n    this.model.save('url', $(\".js-editCreateUrl\").val());\n    this.model.save('caption', $('.js-editCreateCaption').val());\n    this.model.save('isEditing', false);\n    this.render();\n  },\n\n  cancelUpdate: function(e){\n    e.preventDefault();\n    this.model.set('isEditing', false);\n    this.render();\n  },\n\n});\n"],"sourceRoot":"/source/"}